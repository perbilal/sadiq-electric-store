<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
   <?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<HBox prefHeight="600.0" prefWidth="900.0" spacing="10.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.sadiqstore.controller.InvoiceController">
   <padding>
      <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
   </padding>
   
   <VBox spacing="10.0" HBox.hgrow="ALWAYS">
      <children>
         <Label text="Select Products">
            <font><Font name="System Bold" size="18.0" /></font>
         </Label>
         <TextField fx:id="searchField" promptText="Search Product..." />
         
         <TableView fx:id="productTable" VBox.vgrow="ALWAYS">
            <columns>
               <TableColumn fx:id="colProdName" prefWidth="150.0" text="Product" />
               <TableColumn fx:id="colProdPrice" prefWidth="80.0" text="Price" />
               <TableColumn fx:id="colProdQty" prefWidth="80.0" text="Stock" />
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
         </TableView>
         
         <HBox spacing="10.0" alignment="CENTER_LEFT">
            <Label text="Quantity:" />
            <TextField fx:id="qtyInput" prefWidth="60.0" text="1" />
            <Button mnemonicParsing="false" onAction="#addToCart" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="Add to Cart âž”" />
         </HBox>
      </children>
   </VBox>
   
   <VBox spacing="10.0" prefWidth="350.0" style="-fx-border-color: #ccc; -fx-border-width: 1; -fx-padding: 10;">
      <children>
         <Label text="Current Invoice">
            <font><Font name="System Bold" size="18.0" /></font>
         </Label>
         
         <TableView fx:id="cartTable" VBox.vgrow="ALWAYS">
            <columns>
               <TableColumn fx:id="colCartName" prefWidth="120.0" text="Item" />
               <TableColumn fx:id="colCartQty" prefWidth="50.0" text="Qty" />
               <TableColumn fx:id="colCartTotal" prefWidth="80.0" text="Total" />
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
         </TableView>
         
         <HBox alignment="CENTER_RIGHT" spacing="10.0">
             <Button onAction="#removeFromCart" text="Remove Item" style="-fx-text-fill: red;" />
         </HBox>
         <TextField fx:id="customerNameField" promptText="Customer Name (e.g. Ali Khan)" />
         <Label text="Total Amount:" textFill="#666666" />
         <Label fx:id="totalLabel" text="Rs. 0.0" textFill="#28a745">
            <font><Font name="System Bold" size="28.0" /></font>
         </Label>
         
         <CheckBox fx:id="creditCheckBox" text="Mark as Udhaar (Credit)" textFill="#dc3545">
            <font><Font name="System Bold" size="14.0" /></font>
        </CheckBox>
             
         <Button mnemonicParsing="false" onAction="#checkout" prefHeight="40.0" maxWidth="Infinity" style="-fx-background-color: #28a745; -fx-text-fill: white;" text="CHECKOUT / PRINT">
            <font><Font name="System Bold" size="14.0" /></font>
         </Button>
      </children>
   </VBox>
</HBox>